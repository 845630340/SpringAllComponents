# 集群详情和设置


---

在集群列表页，点击集群名称，进入集群详情页。

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E9%9B%86%E7%BE%A4%E5%90%8D%E7%A7%B0.png)

## 1. 主机列表

在集群的详情页面，可以看到集群的主机列表，显示了各个主机的基本信息。

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E4%B8%BB%E6%9C%BA%E5%88%97%E8%A1%A8.png)

注意：构建集群的主机列表里会展示出用于构建的主机信息，可以在列表页方便地设置，非构建集群则不会展示该列。


## 2. 集群设置

点击"集群设置"，可以看到新建集群时填写的所有配置，可以修改集群设置。

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E9%9B%86%E7%BE%A4%E8%AE%BE%E7%BD%AE.png)


## 3. 监听器设置

监听器是用于收集集群的kubernetes event事件的。点击“监听器设置”，可以管理监听器的设置。如果集群没有监听器，可以点击“添加监听器”，来为集群添加一个监听器实例。

![](https://domeos-pics.bjcnc.scs.sohucs.com/监听器.png)

在添加监听器时，用户可以进行如下设置：
1. 监听器名称：必填项，指定该监听器名称。
2. 描述：监听器的详情描述，默认为空，可不填。
3. 工作场景：生产或测试，该项在集群的主机配置中设置。
4. 主机标签：（主机标签的意义，详见集群管理的主机设置）。
定义了以上条件后，您可以查看筛选出了哪些主机，系统会在您筛选出的主机上部署监听器。
4. namespace：必填项，您需要选择一个已有的namespace或新建一个namespace（namespace的意义，详见集群管理的集群设置）。
5. 镜像信息：监听器镜像的详细信息，可以点击“铅笔”进行编辑。

![](https://domeos-pics.bjcnc.scs.sohucs.com/监听器01.png)

完成所有配置后，点击“提交”。


如果已经添加了监听器，则在点击“监听器设置”后，可以看到监听器的所有配置。点击“查看详情”，进入监听器详情页面，可以查看监听器实例的运行状态，并对监听器进行启动、停止、升级、回滚、删除操作，在“事件”tab中，可以查看监听器实例的事件信息。

![](https://domeos-pics.bjcnc.scs.sohucs.com/监听器02.png)


## 4. namespace管理


namespace是kubernetes提供的一种资源隔离方案，DomeOS使用namespace主要有两方面的作用，第一避免资源名冲突，不同namespace下的资源名称可以相同，第二，dns解析，namespace会作为域名的一部分，用来防止域名冲突。用户可以在DomeOS中给集群添加新的namespace。

![](https://domeos-pics.bjcnc.scs.sohucs.com/namespace.png)

## 5. 实例列表


集群实例列表可以汇总展示集群的实例列表信息，这里可以选择展示实例属性信息，进行相应信息的获取展示。属性信息包含：   
主机名称，实例IP，实例状态，部署名称，部署版本，namespace，启动时间，容器ID，镜像名称等。

![](https://domeos-pics.bjcnc.scs.sohucs.com/集群实例列表.png)


## 6. 集群成员管理

DomeOS分别对项目、服务、集群、负载均衡与配置集合有独立的成员管理系统。五者的成员管理系统权限独立，结构相同，使用方法和流程基本一致。
在“集群成员”页面，您可以看到集群成员列表。

项目成员由admin或项目内Master权限的成员添加。点击“编辑”，您可以添加新成员，修改现有项目成员的权限，以及删除现有项目成员。
添加成员时，您可以选择导入用户、导入组成员或导入项目成员。选择要添加的成员后，指定项目内权限即可添加新成员了。

![](https://domeos-pics.bjcnc.scs.sohucs.com/集群成员.png)

集群内权限划分如下：

| 角色 |权限 |
| -- | -- |
| master | 集群的最高权限，可以查看、编辑、删除集群，添加主机和主机标签，创建namespace等，可以管理集群成员|
| developer | 可以查看、编辑集群，添加主机，添加主机标签，创建namespace等|
| reporter | 可以查看集群信息|

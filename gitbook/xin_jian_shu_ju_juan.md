# 新建数据卷

---

在存储详情页面上点击“新建数据卷”可在kubernetes集群上创建关联到该存储集群的数据卷，该数据卷可以被部署挂载。

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%8D%B7.png)

## 数据卷配置

在新建数据卷时，不同存储集群的数据卷配置略有不同，需要根据实际情况配置。

1. cephfs存储集群中新建数据卷时，需要配置如下信息：

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%8D%B702.png)

**数据卷名称**：该名称会作为pv和pvc名称的一部分，在数据卷集群内不允许重复。

**描述**：该数据卷的描述信息，非必填项。

**存储配置**：该项配置了数据卷在cephfs上的信息：路径是该数据卷对应在cephfs上的路径，需要使用者确保该路径已经被创建；cephfs账户是已经在cephfs上创建的，有权限使用该cephfs集群的账户；ceph keyring是对应于该账户的cephfs上的key ring信息。

**容量**：记录该数据卷的大小，该项是必填项，但并不起实际作用，数据卷可以存放多少数据，取决于cephfs上该路径对应的存储空间大小。

**访问模式**：访问模式限定了该数据卷可以被多少台主机以何种方式进行访问。

**集群**：在该集群上创建数据卷对应的pv和pvc信息。

**namespace**：在该namespace下创建数据卷对应的pv和pvc信息；数据卷创建后，只有与数据卷相同集群和namespace下的部署可以挂载。

**是否只读**：数据卷在部署中的访问方式，仅为标记项，不起实际作用。

2. glusterfs存储集群中新建数据卷时，需要配置如下信息：

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%8D%B703.png)

**数据卷名称**：该名称会作为pv和pvc名称的一部分，在数据卷集群内不允许重复。

**描述**：该数据卷的描述信息，非必填项。

**存储配置**：该项配置了数据卷在glusterfs上的信息：路径是该数据卷对应在glusterfs上的路径，需要使用者确保该路径已经被创建。

**容量**：记录该数据卷的大小，该项是必填项，但并不起实际作用，数据卷可以存放多少数据，取决于cephfs上该路径对应的存储空间大小。

**访问模式**：访问模式限定了该数据卷可以被多少台主机以何种方式进行访问。

**集群**：在该集群上创建数据卷对应的pv和pvc信息。

**namespace**：在该namespace下创建数据卷对应的pv和pvc信息；数据卷创建后，只有与数据卷相同集群和namespace下的部署可以挂载。

**是否只读**：数据卷在部署中的访问方式，仅为标记项，不起实际作用。

3. rbd存储集群中新建数据卷时，需要配置如下信息：

![](https://domeos-pics.bjcnc.scs.sohucs.com/%E6%96%B0%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%8D%B704.png)

**数据卷名称**：该名称会作为pv和pvc名称的一部分，在数据卷集群内不允许重复。

**描述**：该数据卷的描述信息，非必填项。

**存储配置**：该项配置了数据卷在ceph-rbd上的信息：ceph pool是该数据卷使用的ceph-rbd上的pool信息；ceph image是该数据卷使用的ceph-rbd上的image信息；ceph账户是有权限使用该ceph-rbd集群的用户信息；ceph keyring是该账户对应的keyring；cephfs文件格式是该ceph-rbd集群的文件格式，目前支持xfs和ext4两种。

**容量**：记录该数据卷的大小，该项是必填项，但并不起实际作用，数据卷可以存放多少数据，取决于cephfs上该路径对应的存储空间大小。

**访问模式**：访问模式限定了该数据卷可以被多少台主机以何种方式进行访问。

**集群**：在该集群上创建数据卷对应的pv和pvc信息。

**namespace**：在该namespace下创建数据卷对应的pv和pvc信息；数据卷创建后，只有与数据卷相同集群和namespace下的部署可以挂载。

**是否只读**：数据卷在部署中的访问方式，仅为标记项，不起实际作用。
